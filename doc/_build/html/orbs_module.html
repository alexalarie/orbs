

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Orbs module &mdash; Orbs 3.9.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/logo.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Orbs 3.9.0 documentation" href="index.html"/>
        <link rel="next" title="Process module" href="process_module.html"/>
        <link rel="prev" title="ORBS Common reduction errors" href="reduction_errors.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="index.html" class="icon icon-home"> Orbs
        

        
          
          <img src="_static/logo_sidebar.png" class="logo" />
        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul>
<li class="toctree-l1"><a class="reference internal" href="installing_orbs.html">Installing Orbs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="installing_orbs.html#unpacking">Unpacking</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="installing_python.html">Installing Python</a><ul>
<li class="toctree-l2"><a class="reference internal" href="installing_python.html#python">Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="installing_python.html#modules">Modules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="installing_python.html#to-use-the-viewer-orb-viewer">To use the Viewer (orb-viewer)</a></li>
<li class="toctree-l3"><a class="reference internal" href="installing_python.html#scipy-and-numpy">Scipy and Numpy</a></li>
<li class="toctree-l3"><a class="reference internal" href="installing_python.html#pyfits">PyFITS</a></li>
<li class="toctree-l3"><a class="reference internal" href="installing_python.html#parallel-python">Parallel Python</a></li>
<li class="toctree-l3"><a class="reference internal" href="installing_python.html#pywcs">PyWCS</a></li>
<li class="toctree-l3"><a class="reference internal" href="installing_python.html#bottleneck">Bottleneck</a></li>
<li class="toctree-l3"><a class="reference internal" href="installing_python.html#h5py">h5py</a><ul>
<li class="toctree-l4"><a class="reference internal" href="installing_python.html#install-szip">Install SZIP</a></li>
<li class="toctree-l4"><a class="reference internal" href="installing_python.html#install-hdf5">Install HDF5</a></li>
<li class="toctree-l4"><a class="reference internal" href="installing_python.html#install-h5py-pip-cannot-be-used-directly">Install H5PY (pip cannot be used directly)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="installing_python.html#cython">Cython</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="reduction_guide.html">ORBS Reduction Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="reduction_guide.html#a-2-steps-reduction">A 2 steps reduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="reduction_guide.html#creation-of-the-option-file">Creation of the option file</a><ul>
<li class="toctree-l3"><a class="reference internal" href="reduction_guide.html#required-parameters">Required parameters</a><ul>
<li class="toctree-l4"><a class="reference internal" href="reduction_guide.html#how-to-compute-the-step-size-in-nm-from-sitelle-s-data-files-header">How to compute the step size in nm from SITELLE&#8217;S data files header ?</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="reduction_guide.html#optional-parameters">Optional parameters</a><ul>
<li class="toctree-l4"><a class="reference internal" href="reduction_guide.html#bias-dark-and-flat-field-correction">Bias, dark and flat field correction</a></li>
<li class="toctree-l4"><a class="reference internal" href="reduction_guide.html#calibration-data">Calibration data</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="reduction_guide.html#start-of-the-reduction-process">Start of the reduction process</a><ul>
<li class="toctree-l3"><a class="reference internal" href="reduction_guide.html#start-command">Start command</a><ul>
<li class="toctree-l4"><a class="reference internal" href="reduction_guide.html#choosing-your-starting-step">Choosing your starting step</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="reduction_guide.html#other-operations-with-orbs-command">Other operations with orbs command</a></li>
<li class="toctree-l3"><a class="reference internal" href="reduction_guide.html#reduction-files">Reduction files</a><ul>
<li class="toctree-l4"><a class="reference internal" href="reduction_guide.html#temporary-reduction-folder">Temporary reduction folder</a></li>
<li class="toctree-l4"><a class="reference internal" href="reduction_guide.html#log-file">Log file</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="reduction_guide.html#reduce-your-calibration-files">Reduce your calibration files</a><ul>
<li class="toctree-l3"><a class="reference internal" href="reduction_guide.html#laser-cube-wavelength-wavenumber-calibration">Laser cube (wavelength/wavenumber calibration)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="reduction_guide.html#option-file">Option file</a></li>
<li class="toctree-l4"><a class="reference internal" href="reduction_guide.html#reduction-command">Reduction command</a></li>
<li class="toctree-l4"><a class="reference internal" href="reduction_guide.html#output-file">Output file</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="reduction_guide.html#standard-star-photometrical-calibration">Standard star (photometrical calibration)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="reduction_guide.html#id2">Option file</a></li>
<li class="toctree-l4"><a class="reference internal" href="reduction_guide.html#id3">Reduction command</a></li>
<li class="toctree-l4"><a class="reference internal" href="reduction_guide.html#id4">Output file</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="reduction_guide.html#continuum-source-cube-phase-map">Continuum source cube (Phase map)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="reduction_guide.html#id5">Option file</a></li>
<li class="toctree-l4"><a class="reference internal" href="reduction_guide.html#id6">Reduction command</a></li>
<li class="toctree-l4"><a class="reference internal" href="reduction_guide.html#id7">Output file</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="reduction_guide.html#choosing-the-right-output">Choosing the right output</a><ul>
<li class="toctree-l3"><a class="reference internal" href="reduction_guide.html#wavelength-or-wavenumber">Wavelength or wavenumber ?</a></li>
<li class="toctree-l3"><a class="reference internal" href="reduction_guide.html#to-apodize-or-not-to-apodize">To apodize or not to apodize ?</a></li>
<li class="toctree-l3"><a class="reference internal" href="reduction_guide.html#why-you-might-not-want-the-spectral-calibration">Why you might not want the spectral calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="reduction_guide.html#summary">Summary</a><ul>
<li class="toctree-l4"><a class="reference internal" href="reduction_guide.html#the-classic-output">The classic output</a></li>
<li class="toctree-l4"><a class="reference internal" href="reduction_guide.html#the-orcs-output">The ORCS output</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="reduction_guide.html#core-concepts">Core concepts</a><ul>
<li class="toctree-l3"><a class="reference internal" href="reduction_guide.html#file-list">File list</a></li>
<li class="toctree-l3"><a class="reference internal" href="reduction_guide.html#road-map">Road Map</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="reduction_faq.html">ORBS Reduction FAQ</a><ul>
<li class="toctree-l2"><a class="reference internal" href="reduction_faq.html#how-can-i-have-access-to-orbs-commands">How can I have access to ORBS commands ?</a><ul>
<li class="toctree-l3"><a class="reference internal" href="reduction_faq.html#if-you-have-administrator-rights">If you have administrator rights</a></li>
<li class="toctree-l3"><a class="reference internal" href="reduction_faq.html#if-you-only-are-a-simple-user">If you only are a simple user</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="reduction_faq.html#what-is-the-binning-of-my-frames">What is the binning of my frames ?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="reduction_errors.html">ORBS Common reduction errors</a><ul>
<li class="toctree-l2"><a class="reference internal" href="reduction_errors.html#malformed-sequence-of-files">Malformed sequence of files ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="reduction_errors.html#error-during-cube-alignment">Error during cube alignment ?</a></li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="">Orbs module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#orbs-class">Orbs class</a></li>
<li class="toctree-l2"><a class="reference internal" href="#roadmap-class">RoadMap class</a></li>
<li class="toctree-l2"><a class="reference internal" href="#step-class">Step class</a></li>
<li class="toctree-l2"><a class="reference internal" href="#performance-class">Performance class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="process_module.html">Process module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="process_module.html#rawdata-class">RawData class</a></li>
<li class="toctree-l2"><a class="reference internal" href="process_module.html#interferogram-class">Interferogram class</a></li>
<li class="toctree-l2"><a class="reference internal" href="process_module.html#interferogrammerger-class">InterferogramMerger class</a></li>
<li class="toctree-l2"><a class="reference internal" href="process_module.html#calibrationlaser-class">CalibrationLaser class</a></li>
<li class="toctree-l2"><a class="reference internal" href="process_module.html#spectrum-class">Spectrum class</a></li>
<li class="toctree-l2"><a class="reference internal" href="process_module.html#phase-class">Phase class</a></li>
<li class="toctree-l2"><a class="reference internal" href="process_module.html#standard-class">Standard class</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a><ul>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#v3-1">v3.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#v3-1-0">v3.1.0</a><ul>
<li class="toctree-l4"><a class="reference internal" href="changelog.html#alignment">Alignment</a></li>
<li class="toctree-l4"><a class="reference internal" href="changelog.html#cosmic-rays-detection">Cosmic rays detection</a></li>
<li class="toctree-l4"><a class="reference internal" href="changelog.html#overwriting-fits-files">Overwriting FITS files</a></li>
<li class="toctree-l4"><a class="reference internal" href="changelog.html#transmission-function">Transmission function</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#v3-1-1">v3.1.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#v3-1-2">v3.1.2</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#v3-2">v3.2</a><ul>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#dark-and-bias-correction-for-spiomm-cam2">Dark and Bias correction for SpIOMM CAM2</a></li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#frames-transformation">Frames transformation</a></li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#orbs-script">Orbs script</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#v3-3">v3.3</a><ul>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#cosmic-ray-detection-and-correction">Cosmic ray detection and correction</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#v3-4">v3.4</a><ul>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#v-3-4-0-phase-correction">v 3.4.0:  Phase correction</a></li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#v3-4-1">v3.4.1</a><ul>
<li class="toctree-l4"><a class="reference internal" href="changelog.html#correct-for-strange-phase-with-calibration-stars">Correct for strange phase with calibration stars</a></li>
<li class="toctree-l4"><a class="reference internal" href="changelog.html#better-stars-interferogram-at-merging-step">Better stars interferogram at merging step</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#v3-4-2">v3.4.2</a><ul>
<li class="toctree-l4"><a class="reference internal" href="changelog.html#bad-frames-vectors-management">Bad frames vectors management</a></li>
<li class="toctree-l4"><a class="reference internal" href="changelog.html#zeros-smoothing">Zeros smoothing</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#v3-4-3">v3.4.3</a><ul>
<li class="toctree-l4"><a class="reference internal" href="changelog.html#better-fit-of-stars">Better fit of stars</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#v3-4-4">v3.4.4</a><ul>
<li class="toctree-l4"><a class="reference internal" href="changelog.html#various-phase-fit-degree">Various phase fit degree</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#v3-4-5-stable">v3.4.5 (stable)</a></li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#v3-4-6">v3.4.6</a><ul>
<li class="toctree-l4"><a class="reference internal" href="changelog.html#enhanced-phase-determination">Enhanced phase determination</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#v3-4-7">v3.4.7</a><ul>
<li class="toctree-l4"><a class="reference internal" href="changelog.html#reversed-spectrum-corection">Reversed spectrum corection</a></li>
<li class="toctree-l4"><a class="reference internal" href="changelog.html#sky-transmission-correction-in-single-camera-mode">Sky transmission correction in single-camera mode</a></li>
<li class="toctree-l4"><a class="reference internal" href="changelog.html#passing-alignment-parameters-to-orbs-command">Passing alignment parameters to orbs command</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#v3-4-8">v3.4.8</a><ul>
<li class="toctree-l4"><a class="reference internal" href="changelog.html#master-combination-algorithms">Master combination algorithms</a></li>
<li class="toctree-l4"><a class="reference internal" href="changelog.html#minor-modifications">Minor modifications</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#v3-5">v3.5</a><ul>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id1">3.5.0</a><ul>
<li class="toctree-l4"><a class="reference internal" href="changelog.html#alignment-and-photometry">Alignment and photometry</a></li>
<li class="toctree-l4"><a class="reference internal" href="changelog.html#merging-process">Merging process</a></li>
<li class="toctree-l4"><a class="reference internal" href="changelog.html#cosmic-ray-detection">Cosmic Ray Detection</a></li>
<li class="toctree-l4"><a class="reference internal" href="changelog.html#fft">FFT</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id2">3.5.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id3">3.5.2</a><ul>
<li class="toctree-l4"><a class="reference internal" href="changelog.html#alternative-merging-process">Alternative Merging Process</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id4">3.5.3</a><ul>
<li class="toctree-l4"><a class="reference internal" href="changelog.html#aperture-photometry">Aperture Photometry</a></li>
<li class="toctree-l4"><a class="reference internal" href="changelog.html#id5">Cosmic Ray Detection</a></li>
<li class="toctree-l4"><a class="reference internal" href="changelog.html#mask">Mask</a></li>
<li class="toctree-l4"><a class="reference internal" href="changelog.html#tuning-parameters">Tuning parameters</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id6">3.5.4</a><ul>
<li class="toctree-l4"><a class="reference internal" href="changelog.html#astrometry-photometry">Astrometry &amp; Photometry</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#v3-6">v3.6</a><ul>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id7">3.6.0</a><ul>
<li class="toctree-l4"><a class="reference internal" href="changelog.html#flux-calibration">Flux Calibration</a></li>
<li class="toctree-l4"><a class="reference internal" href="changelog.html#wcs-correction">WCS correction</a></li>
<li class="toctree-l4"><a class="reference internal" href="changelog.html#simplification">Simplification</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id8">3.6.2</a><ul>
<li class="toctree-l4"><a class="reference internal" href="changelog.html#cython-speed-optimization">Cython &amp; speed optimization</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#v3-7">v3.7</a><ul>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id9">3.7.0</a><ul>
<li class="toctree-l4"><a class="reference internal" href="changelog.html#orb-a-new-core-module">ORB: A new core module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id10">3.7.1</a><ul>
<li class="toctree-l4"><a class="reference internal" href="changelog.html#multi-fit-of-the-stars">Multi fit of the stars</a></li>
<li class="toctree-l4"><a class="reference internal" href="changelog.html#usno-b1-based-star-detection">USNO-B1 based star detection</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id11">3.7.2</a></li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id12">3.7.2.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id13">3.7.2.2</a><ul>
<li class="toctree-l4"><a class="reference internal" href="changelog.html#wavenumber-computation-better-integration-with-orcs">Wavenumber computation &amp; better integration with ORCS</a></li>
<li class="toctree-l4"><a class="reference internal" href="changelog.html#enhanced-phase-map-fit">Enhanced phase map fit</a></li>
<li class="toctree-l4"><a class="reference internal" href="changelog.html#miscellaneous">Miscellaneous</a></li>
<li class="toctree-l4"><a class="reference internal" href="changelog.html#orb-s-scripts">ORB&#8217;s scripts</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id14">3.7.2.3</a><ul>
<li class="toctree-l4"><a class="reference internal" href="changelog.html#astropy-fits-io">Astropy.fits.io</a></li>
<li class="toctree-l4"><a class="reference internal" href="changelog.html#id15">Miscellaneous</a></li>
<li class="toctree-l4"><a class="reference internal" href="changelog.html#full-precision">Full precision</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id16">3.7.3</a><ul>
<li class="toctree-l4"><a class="reference internal" href="changelog.html#sitelle-data">SITELLE data</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id17">3.7.4</a><ul>
<li class="toctree-l4"><a class="reference internal" href="changelog.html#enhanced-flux-calibration">Enhanced flux calibration</a></li>
<li class="toctree-l4"><a class="reference internal" href="changelog.html#astropy">Astropy</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id18">3.7.5</a><ul>
<li class="toctree-l4"><a class="reference internal" href="changelog.html#id19">Miscellaneous</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#v3-8-start-of-cfht-integration">v3.8 Start of CFHT integration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id20">3.8.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id21">3.8.1</a><ul>
<li class="toctree-l4"><a class="reference internal" href="changelog.html#id22"><strong>orbs</strong> script</a></li>
<li class="toctree-l4"><a class="reference internal" href="changelog.html#roadmaps">RoadMaps</a></li>
<li class="toctree-l4"><a class="reference internal" href="changelog.html#id23">Miscellaneous</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id24">3.8.2</a><ul>
<li class="toctree-l4"><a class="reference internal" href="changelog.html#aligner">Aligner</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id25">3.8.3</a><ul>
<li class="toctree-l4"><a class="reference internal" href="changelog.html#spectral-calibration">Spectral calibration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id26">3.8.4.0</a><ul>
<li class="toctree-l4"><a class="reference internal" href="changelog.html#update-of-the-documentation">Update of the documentation</a></li>
<li class="toctree-l4"><a class="reference internal" href="changelog.html#required-option-file-keywords">Required option file keywords</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#v3-9-the-hdf5-miracle">v3.9 The HDF5 Miracle</a><ul>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#v3-9-0">v3.9.0</a><ul>
<li class="toctree-l4"><a class="reference internal" href="changelog.html#scripts">Scripts</a></li>
<li class="toctree-l4"><a class="reference internal" href="changelog.html#default-output-cube">Default Output Cube</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Orbs</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Orbs module</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/orbs_module.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="orbs-module">
<span id="id1"></span><h1><a class="toc-backref" href="#id2">Orbs module</a><a class="headerlink" href="#orbs-module" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#orbs-module" id="id2">Orbs module</a><ul>
<li><a class="reference internal" href="#orbs-class" id="id3">Orbs class</a></li>
<li><a class="reference internal" href="#roadmap-class" id="id4">RoadMap class</a></li>
<li><a class="reference internal" href="#step-class" id="id5">Step class</a></li>
<li><a class="reference internal" href="#performance-class" id="id6">Performance class</a></li>
</ul>
</li>
</ul>
</div>
<span class="target" id="module-orbs.orbs"></span><div class="section" id="orbs-class">
<h2><a class="toc-backref" href="#id3">Orbs class</a><a class="headerlink" href="#orbs-class" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="orbs.orbs.Orbs">
<em class="property">class </em><code class="descclassname">orbs.orbs.</code><code class="descname">Orbs</code><span class="sig-paren">(</span><em>option_file_path</em>, <em>target</em>, <em>cams</em>, <em>config_file_name='config.orb'</em>, <em>overwrite=False</em>, <em>silent=False</em>, <em>fast_init=False</em><span class="sig-paren">)</span><a class="headerlink" href="#orbs.orbs.Orbs" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">orb.core.Tools</span></code></p>
<p>ORBS user-interface implementing the high level reduction methods</p>
<p>Help managing files during the reduction process and offer
simple high level methods to reduce SpIOMM data. You must init
Orbs class with a path to an option file (e.g. option.opt)
containing all the parameters needed to run a reduction.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The option file must contain at least the following
parameters (each parameter is preceded by a keyword). See
&#8216;options&#8217; attribute to get all the possible keywords.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">OBJECT:</th><td class="field-body">Name of the object</td>
</tr>
<tr class="field-even field"><th class="field-name">FILTER:</th><td class="field-body">Filter name</td>
</tr>
<tr class="field-odd field"><th class="field-name">SPESTEP:</th><td class="field-body">Step size of the moving mirror (in nm)</td>
</tr>
<tr class="field-even field"><th class="field-name">SPESTNB:</th><td class="field-body">Number of steps</td>
</tr>
<tr class="field-odd field"><th class="field-name">SPEORDR:</th><td class="field-body">Order of the spectral folding</td>
</tr>
<tr class="field-even field"><th class="field-name">SPEEXPT:</th><td class="field-body">Exposition time of the frames (in s)</td>
</tr>
<tr class="field-odd field"><th class="field-name">SPEDART:</th><td class="field-body">Exposition time of the dark frames (in s)</td>
</tr>
<tr class="field-even field"><th class="field-name">OBSDATE:</th><td class="field-body">Observation date (YYYY-MM-DD)</td>
</tr>
<tr class="field-odd field"><th class="field-name">HOUR_UT:</th><td class="field-body">UT hour of the observation (HH:MM:SS)</td>
</tr>
<tr class="field-even field"><th class="field-name">BAD_FRAMES:</th><td class="field-body">List of bad frames indexes</td>
</tr>
<tr class="field-odd field"><th class="field-name">TARGETR:</th><td class="field-body">RA of the target (hour:min:sec)</td>
</tr>
<tr class="field-even field"><th class="field-name">TARGETD:</th><td class="field-body">DEC of the target (degree:min:sec)</td>
</tr>
<tr class="field-odd field"><th class="field-name">TARGETX:</th><td class="field-body">X position of the target in the first frame</td>
</tr>
<tr class="field-even field"><th class="field-name">TARGETY:</th><td class="field-body">Y position of the target in the first frame</td>
</tr>
<tr class="field-odd field"><th class="field-name">DIRCAM1:</th><td class="field-body">Path to the directory containing the images of the
camera 1</td>
</tr>
<tr class="field-even field"><th class="field-name">DIRCAM2:</th><td class="field-body">Path to the directory containing the images of the
camera 2</td>
</tr>
<tr class="field-odd field"><th class="field-name">DIRBIA1:</th><td class="field-body">Path to the directory containing the bias frames for the
camera 1</td>
</tr>
<tr class="field-even field"><th class="field-name">DIRBIA2:</th><td class="field-body">Path to the directory containing the bias frames for the
camera 2</td>
</tr>
<tr class="field-odd field"><th class="field-name">DIRDRK1:</th><td class="field-body">Path to the directory containing the dark frames for the
camera 1</td>
</tr>
<tr class="field-even field"><th class="field-name">DIRDRK2:</th><td class="field-body">Path to the directory containing the dark frames for the
camera 2</td>
</tr>
<tr class="field-odd field"><th class="field-name">DIRFLT1:</th><td class="field-body">Path to the directory containing the flat frames for the
camera 1</td>
</tr>
<tr class="field-even field"><th class="field-name">DIRFLT2:</th><td class="field-body">Path to the directory containing the flat frames for the
camera 2</td>
</tr>
<tr class="field-odd field"><th class="field-name">DIRCAL1:</th><td class="field-body">Path to the directory containing the images of the
calibration laser cube of the camera 1</td>
</tr>
<tr class="field-even field"><th class="field-name">DIRCAL2:</th><td class="field-body">Path to the directory containing the images of the
calibration laser cube of the camera 2</td>
</tr>
<tr class="field-odd field"><th class="field-name">DIRFLTS:</th><td class="field-body">Path to the directory containing the flat spectrum
frames</td>
</tr>
<tr class="field-even field"><th class="field-name">STDPATH:</th><td class="field-body">Path to the standard spectrum file</td>
</tr>
<tr class="field-odd field"><th class="field-name">PHAPATH:</th><td class="field-body">Path to the external phase map file</td>
</tr>
<tr class="field-even field"><th class="field-name">STDNAME:</th><td class="field-body">Name of the standard used for flux calibration</td>
</tr>
<tr class="field-odd field"><th class="field-name">FRINGES:</th><td class="field-body">Fringes parameters</td>
</tr>
<tr class="field-even field"><th class="field-name">STARLIST1:</th><td class="field-body">Path to a list of star positions for the camera 1</td>
</tr>
<tr class="field-odd field"><th class="field-name">STARLIST2:</th><td class="field-body">Path to a list of star positions for the camera 2</td>
</tr>
<tr class="field-even field"><th class="field-name">APOD:</th><td class="field-body">Apodization function name</td>
</tr>
<tr class="field-odd field"><th class="field-name">CALIBMAP:</th><td class="field-body">Path to the calibration laser map</td>
</tr>
<tr class="field-even field"><th class="field-name">TRYCAT:</th><td class="field-body">If True (an integer &gt; 0) a star catalogue (e.g. USNO-B1)
is used for star detection (TARGETR, TARGETD, TARGETX, TARGETY
must be given in the option file). If False star detection will
use its own algorithm. You can also force ORBS to use a given
star list, see STARLIST1 and STARLIST2 keywords. This option is
set to False by default</td>
</tr>
<tr class="field-odd field"><th class="field-name">WAVENUMBER:</th><td class="field-body">If True (an integer &gt; 0) the output spectrum will be
in wavenumber instead of wavelength. This option avoids the use
of interpolation to transform the original wavenumber spectrum
to a wavelength spectrum</td>
</tr>
<tr class="field-even field"><th class="field-name">WAVE_CALIB:</th><td class="field-body">If True (an integer &gt; 0) the output sepctrum will be
wavelength calibrated using the calibration laser map. This
option is set to True by default</td>
</tr>
<tr class="field-odd field"><th class="field-name">NOSKY:</th><td class="field-body">If True (an integer &gt; 0) sky-dependant processes are skipped.</td>
</tr>
<tr class="field-even field"><th class="field-name">NOSTAR:</th><td class="field-body">If True (an integer &gt; 0) star-dependant processes are skipped.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>The order of the parameters is not important</li>
<li>Lines without a keyword are treated as commentaries (but the
use of # is better)</li>
<li>Paths can be either relative or absolut</li>
<li>An example of an option file (options.opt) can be found in
the scripts folder (Orbs/scripts) of the package</li>
<li>&#8216;orbs-optcreator&#8217; is an executable script that can be used
to create an option file</li>
</ul>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Two parameters are needed <strong>at least</strong> : the object
name (OBJECT) and the filter name (FILTER)</p>
</div>
<dl class="method">
<dt id="orbs.orbs.Orbs.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>option_file_path</em>, <em>target</em>, <em>cams</em>, <em>config_file_name='config.orb'</em>, <em>overwrite=False</em>, <em>silent=False</em>, <em>fast_init=False</em><span class="sig-paren">)</span><a class="headerlink" href="#orbs.orbs.Orbs.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize Orbs class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>option_file_path</strong> &#8211; Path to the option file.</li>
<li><strong>target</strong> &#8211; Target type to reduce. Used to define the
reduction road map. Target may be &#8216;object&#8217;, &#8216;flat&#8217;,
&#8216;standard&#8217;, &#8216;laser&#8217;.</li>
<li><strong>config_file_name</strong> &#8211; (Optional) Name of the config file to
use. Must be located in orbs/data/.</li>
<li><strong>overwrite</strong> &#8211; (Optional) If True, any existing FITS file
created by Orbs will be overwritten during the reduction
process (default False).</li>
<li><strong>silent</strong> &#8211; (Optional) If True no messages nor warnings are
displayed by Orbs (useful for silent init).</li>
<li><strong>fast_init</strong> &#8211; (Optional) Fast init. Data files are not
checked. Gives access to Orbs variables (e.g. object dependant file
paths). This mode is faster but less safe.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="orbs.orbs.Orbs._get_calibrated_spectrum_cube_path">
<code class="descname">_get_calibrated_spectrum_cube_path</code><span class="sig-paren">(</span><em>camera_number</em>, <em>apod</em>, <em>wavenumber=False</em>, <em>spectral_calibration=True</em><span class="sig-paren">)</span><a class="headerlink" href="#orbs.orbs.Orbs._get_calibrated_spectrum_cube_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Return path to the calibrated spectrum cube resulting of the
reduction process.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>camera_number</strong> &#8211; Camera number (must be 1, 2 or 0 for
merged data).</li>
<li><strong>apod</strong> &#8211; Apodization function name to be added to the
path.</li>
<li><strong>wavenumber</strong> &#8211; (Optional) If True the spectral axis of the
cube is considered to be a wavenumber axis. If False it is
considered to be a wavelength axis (default False).</li>
<li><strong>spectral_calibration</strong> &#8211; (Optional) If True the cube is
calibrated in wavelength/wavenumber (default True).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="orbs.orbs.Orbs._get_calibration_laser_fits_header">
<code class="descname">_get_calibration_laser_fits_header</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#orbs.orbs.Orbs._get_calibration_laser_fits_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the header corresponding to the calibration laser
that can be added to the created FITS files.</p>
</dd></dl>

<dl class="method">
<dt id="orbs.orbs.Orbs._get_calibration_laser_map">
<code class="descname">_get_calibration_laser_map</code><span class="sig-paren">(</span><em>camera_number</em><span class="sig-paren">)</span><a class="headerlink" href="#orbs.orbs.Orbs._get_calibration_laser_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the calibration laser map.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>camera_number</strong> &#8211; Camera number (can be 1, 2 or 0)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="orbs.orbs.Orbs._get_calibration_laser_map_path">
<code class="descname">_get_calibration_laser_map_path</code><span class="sig-paren">(</span><em>camera_number</em><span class="sig-paren">)</span><a class="headerlink" href="#orbs.orbs.Orbs._get_calibration_laser_map_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Return path to the calibration laser map from a flat cube.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>camera_number</strong> &#8211; Camera number (must be 1 or 2).</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="orbs.orbs.Orbs._get_data_dir">
<code class="descname">_get_data_dir</code><span class="sig-paren">(</span><em>data_kind</em><span class="sig-paren">)</span><a class="headerlink" href="#orbs.orbs.Orbs._get_data_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the path to the data directory depending on the
kind of data and the project name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data_kind</strong> &#8211; <p>Integer, depends on the type of data and 
can be:</p>
<ul class="simple">
<li>0: merged data (resulting from merging data from camera
1 and 2)</li>
<li>1 or 2: data relative to each camera</li>
<li>3: spectral data ready for analysis.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="orbs.orbs.Orbs._get_data_prefix">
<code class="descname">_get_data_prefix</code><span class="sig-paren">(</span><em>data_kind</em><span class="sig-paren">)</span><a class="headerlink" href="#orbs.orbs.Orbs._get_data_prefix" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the prefix of the data files name</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data_kind</strong> &#8211; <p>Integer, depends on the type of data and 
can be:</p>
<ul class="simple">
<li>0: merged data (resulting from merging data from camera
1 and 2)</li>
<li>1 or 2: data relative to each camera</li>
<li>3: spectral data ready for analysis.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="orbs.orbs.Orbs._get_flat_phase_map_path">
<code class="descname">_get_flat_phase_map_path</code><span class="sig-paren">(</span><em>camera_number</em><span class="sig-paren">)</span><a class="headerlink" href="#orbs.orbs.Orbs._get_flat_phase_map_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Return path to the order 0 phase map from a flat cube.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>camera_number</strong> &#8211; Camera number (must be 1, 2 or 0 for
merged data).</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="orbs.orbs.Orbs._get_interfero_cube_path">
<code class="descname">_get_interfero_cube_path</code><span class="sig-paren">(</span><em>camera_number</em>, <em>corrected=False</em><span class="sig-paren">)</span><a class="headerlink" href="#orbs.orbs.Orbs._get_interfero_cube_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the path to the interferogram cube for each camera
or the merged interferogram (camera_number = 0)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>camera_number</strong> &#8211; Camera number (can be 1, 2 or 0 
for merged data).</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="orbs.orbs.Orbs._get_project_dir">
<code class="descname">_get_project_dir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#orbs.orbs.Orbs._get_project_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the path to the project directory depending on 
the project name.</p>
</dd></dl>

<dl class="method">
<dt id="orbs.orbs.Orbs._get_project_fits_header">
<code class="descname">_get_project_fits_header</code><span class="sig-paren">(</span><em>camera_number=None</em><span class="sig-paren">)</span><a class="headerlink" href="#orbs.orbs.Orbs._get_project_fits_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the header of the project that can be added to the
created FITS files.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>camera_number</strong> &#8211; Number of the camera (can be 0, 1 or 2)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="orbs.orbs.Orbs._get_root_data_path_hdr">
<code class="descname">_get_root_data_path_hdr</code><span class="sig-paren">(</span><em>camera_number</em><span class="sig-paren">)</span><a class="headerlink" href="#orbs.orbs.Orbs._get_root_data_path_hdr" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the beginning of the path to a file at the root of
the reduction folder.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>camera_number</strong> &#8211; Camera number (must be 1, 2 or 0 for
merged data).</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="orbs.orbs.Orbs._get_standard_spectrum_path">
<code class="descname">_get_standard_spectrum_path</code><span class="sig-paren">(</span><em>camera_number</em><span class="sig-paren">)</span><a class="headerlink" href="#orbs.orbs.Orbs._get_standard_spectrum_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Return path to the standard star spectrum</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>camera_number</strong> &#8211; Camera number (must be 1, 2 or 0 for
merged data).</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="orbs.orbs.Orbs._init_astrometry">
<code class="descname">_init_astrometry</code><span class="sig-paren">(</span><em>cube</em>, <em>camera_number</em><span class="sig-paren">)</span><a class="headerlink" href="#orbs.orbs.Orbs._init_astrometry" title="Permalink to this definition">¶</a></dt>
<dd><p>Init Astrometry class.</p>
<p>The Astrometry class is used for star detection and star fitting
(position and photometry)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cube</strong> &#8211; an orbs.Cube instance</li>
<li><strong>camera_number</strong> &#8211; Camera number (can be 1, 2 or 0 
for merged data).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal"><span class="pre">orb.astrometry.Astrometry</span></code> instance</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-class docutils literal"><span class="pre">orb.astrometry.Astrometry</span></code></p>
</div>
</dd></dl>

<dl class="method">
<dt id="orbs.orbs.Orbs._init_raw_data_cube">
<code class="descname">_init_raw_data_cube</code><span class="sig-paren">(</span><em>camera_number</em><span class="sig-paren">)</span><a class="headerlink" href="#orbs.orbs.Orbs._init_raw_data_cube" title="Permalink to this definition">¶</a></dt>
<dd><p>Return instance of <code class="xref py py-class docutils literal"><span class="pre">orbs.process.RawData</span></code> class</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>camera_number</strong> &#8211; Camera number (can be either 1 or 2).</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="orbs.orbs.Orbs.calibrate_spectrum">
<code class="descname">calibrate_spectrum</code><span class="sig-paren">(</span><em>camera_number</em>, <em>cam1_scale=False</em>, <em>no_star=False</em><span class="sig-paren">)</span><a class="headerlink" href="#orbs.orbs.Orbs.calibrate_spectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Calibrate spectrum cube and correct WCS.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>camera_number</strong> &#8211; Camera number (can be 1, 2 or
0 for merged data).</li>
<li><strong>cam1_scale</strong> &#8211; (Optional) If True scale map used is cam 1
deep frame. Useful for SpIOMM which cam 2 frames cannot be
well corrected for bias. This option is used only for a
two-camera calibration process (default False).</li>
<li><strong>no_star</strong> &#8211; (Optional) If True, data is considered to
contain no star, so no WCS calibration is possible (default
False).</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="process_module.html#process.Spectrum" title="process.Spectrum"><code class="xref py py-class docutils literal"><span class="pre">process.Spectrum</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="orbs.orbs.Orbs.check_bad_frames">
<code class="descname">check_bad_frames</code><span class="sig-paren">(</span><em>camera_number</em><span class="sig-paren">)</span><a class="headerlink" href="#orbs.orbs.Orbs.check_bad_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Check for bad frames using the number of detected cosmic
rays. If too much cosmic rays are detected the frame is
considered as bad</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>camera_number</strong> &#8211; Camera number (can be either 1 or 2).</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="process_module.html#process.RawData.check_bad_frames" title="process.RawData.check_bad_frames"><code class="xref py py-meth docutils literal"><span class="pre">process.RawData.check_bad_frames()</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="orbs.orbs.Orbs.compute_alignment_vector">
<code class="descname">compute_alignment_vector</code><span class="sig-paren">(</span><em>camera_number</em><span class="sig-paren">)</span><a class="headerlink" href="#orbs.orbs.Orbs.compute_alignment_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the computation of the alignment vector.</p>
<p>If no path to a star list file is given 
use: <code class="xref py py-meth docutils literal"><span class="pre">orb.astrometry.Astrometry.detect_stars()</span></code> 
method to detect stars.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>camera_number</strong> &#8211; Camera number (can be either 1 or 2).</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-meth docutils literal"><span class="pre">orb.astrometry.Astrometry.detect_stars()</span></code></p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="process_module.html#process.RawData.create_alignment_vector" title="process.RawData.create_alignment_vector"><code class="xref py py-meth docutils literal"><span class="pre">process.RawData.create_alignment_vector()</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="orbs.orbs.Orbs.compute_calibration_laser_map">
<code class="descname">compute_calibration_laser_map</code><span class="sig-paren">(</span><em>camera_number</em>, <em>get_calibration_laser_spectrum=False</em>, <em>fast=True</em><span class="sig-paren">)</span><a class="headerlink" href="#orbs.orbs.Orbs.compute_calibration_laser_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the computation of the calibration laser map from the
calibration laser cube. This map is used to correct for the
off-axis shift in wavelength.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>camera_number</strong> &#8211; Camera number (can be either 1 or 2).</li>
<li><strong>get_calibration_laser_spectrum</strong> &#8211; (Optional) If True
output the computed calibration laser spectrum cube for
checking purpose (Default False)</li>
<li><strong>fast</strong> &#8211; (Optional) If False a sinc^2 is fitted so the fit
is better but the procedure becomes slower. If True a
gaussian is fitted (default True).</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="process_module.html#process.CalibrationLaser.create_calibration_laser_map" title="process.CalibrationLaser.create_calibration_laser_map"><code class="xref py py-meth docutils literal"><span class="pre">process.CalibrationLaser.create_calibration_laser_map()</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="orbs.orbs.Orbs.compute_cosmic_ray_map">
<code class="descname">compute_cosmic_ray_map</code><span class="sig-paren">(</span><em>camera_number</em>, <em>z_coeff=3.0</em><span class="sig-paren">)</span><a class="headerlink" href="#orbs.orbs.Orbs.compute_cosmic_ray_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the computation of the cosmic ray map.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>camera_number</strong> &#8211; Camera number (can be either 1 or 2).</li>
<li><strong>z_coeff</strong> &#8211; (Optional) Threshold coefficient for cosmic ray
detection, lower it to detect more cosmic rays (default : 3.).</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="process_module.html#process.RawData.create_cosmic_ray_map" title="process.RawData.create_cosmic_ray_map"><code class="xref py py-meth docutils literal"><span class="pre">process.RawData.create_cosmic_ray_map()</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="orbs.orbs.Orbs.compute_interferogram">
<code class="descname">compute_interferogram</code><span class="sig-paren">(</span><em>camera_number</em>, <em>z_range=[]</em>, <em>combine='average'</em>, <em>reject='avsigclip'</em>, <em>flat_smooth_deg=0</em><span class="sig-paren">)</span><a class="headerlink" href="#orbs.orbs.Orbs.compute_interferogram" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Run the computation of the corrected interferogram from raw</dt>
<dd>frames</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>camera_number</strong> &#8211; Camera number (can be either 1 or 2).</li>
<li><strong>z_range</strong> &#8211; (Optional) 1d array containing the index of
the frames to be computed.</li>
<li><strong>reject</strong> &#8211; (Optional) Rejection operation for master
frames creation. Can be &#8216;sigclip&#8217;, &#8216;avsigclip&#8217;, &#8216;minmax&#8217; or
None (default &#8216;avsigclip&#8217;). See
<code class="xref py py-meth docutils literal"><span class="pre">process.RawData._create_master_frame()</span></code>.</li>
<li><strong>combine</strong> &#8211; (Optional) Combining operation for master
frames creation. Can be &#8216;average&#8217; or &#8216;median&#8217; (default
&#8216;average&#8217;). See
<code class="xref py py-meth docutils literal"><span class="pre">process.RawData._create_master_frame()</span></code>.</li>
<li><strong>flat_smooth_deg</strong> &#8211; (Optional) If &gt; 0 smooth the master
flat (help removing possible fringe pattern) (default
0). See <a class="reference internal" href="process_module.html#process.RawData._load_flat" title="process.RawData._load_flat"><code class="xref py py-meth docutils literal"><span class="pre">process.RawData._load_flat()</span></code></a>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="process_module.html#process.RawData.correct" title="process.RawData.correct"><code class="xref py py-meth docutils literal"><span class="pre">process.RawData.correct()</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="orbs.orbs.Orbs.compute_phase">
<code class="descname">compute_phase</code><span class="sig-paren">(</span><em>camera_number</em>, <em>n_phase=None</em><span class="sig-paren">)</span><a class="headerlink" href="#orbs.orbs.Orbs.compute_phase" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a phase cube.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>camera_number</strong> &#8211; Camera number (must be 1, 2 or 0 for
merged data)</li>
<li><strong>n_phase</strong> &#8211; (Optional) Number of points around ZPD to use
for phase correction. If 0, no phase correction will be done
and the resulting spectrum will be the absolute value of the
complex spectrum. If None, the number of points is set to 50
percent of the interferogram length (default None).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="orbs.orbs.Orbs.compute_phase_maps">
<code class="descname">compute_phase_maps</code><span class="sig-paren">(</span><em>camera_number</em>, <em>fit=True</em>, <em>no_star=False</em>, <em>flat_cube=False</em><span class="sig-paren">)</span><a class="headerlink" href="#orbs.orbs.Orbs.compute_phase_maps" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a phase map.</p>
<p>The phase map is a map of the zeroth order coefficient of the
polynomial fit to the phase. The dimensions of the phase map
are the same as the dimensions of the frames of the phase
cube.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>camera_number</strong> &#8211; Camera number (must be 1, 2 or 0 for
merged data).</li>
<li><strong>fit</strong> &#8211; (Optional) If True the computed phase map is
fitted to remove noise. Especially useful if the phase map
is created from the astronomical data cube itself and not
from a flat cube (default True).</li>
<li><strong>no_star</strong> &#8211; (Optional) If True, the cube is considered to
have been computed without the star dependant processes so
that the interferogram could not be corrected for sky
transmission variations. The interferogram cube used will
thus be the uncorrected one (default False).</li>
<li><strong>flat_cube</strong> &#8211; (Optional) If True, cube is considered to be
a flat cube with a high SNR at all wavelengths.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="process_module.html#process.Phase.create_phase_maps" title="process.Phase.create_phase_maps"><code class="xref py py-meth docutils literal"><span class="pre">process.Phase.create_phase_maps()</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="orbs.orbs.Orbs.compute_spectrum">
<code class="descname">compute_spectrum</code><span class="sig-paren">(</span><em>camera_number</em>, <em>apodization_function=None</em>, <em>polyfit_deg=1</em>, <em>n_phase=None</em>, <em>phase_cube=False</em>, <em>phase_coeffs=None</em>, <em>smoothing_deg=2</em>, <em>no_star=False</em><span class="sig-paren">)</span><a class="headerlink" href="#orbs.orbs.Orbs.compute_spectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the computation of the spectrum from an interferogram
cube.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>apodization_function</strong> &#8211; (Optional) Apodization function. Default
None.</li>
<li><strong>n_phase</strong> &#8211; (Optional) Number of points around ZPD to use
for phase correction. If 0, no phase correction will be done
and the resulting spectrum will be the absolute value of the
complex spectrum. If None, the number of points is set to 50
percent of the interferogram length (default None).</li>
<li><strong>polyfit_deg</strong> &#8211; (Optional) Degree of the polynomial fit to
the computed phase. If &lt; 0, no fit will be performed
(Default 1).</li>
<li><strong>phase_cube</strong> &#8211; (Optional) If True, only the phase cube is
returned. The number of points of the phase can be defined
with the option n_phase (default False).</li>
<li><strong>phase_coeffs</strong> &#8211; (Optional) Polynomial coefficients of
order higher than 0. If given those coefficients are used to
define the phase vector. If none given default path to the
phase maps of order &gt; 0 are used to create it (Default
None).</li>
<li><strong>smoothing_deg</strong> &#8211; (Optional) Degree of zeros smoothing. A
higher degree means a smoother transition from zeros parts
(bad frames) to non-zero parts (good frames) of the
interferogram. Good parts on the other side of the ZPD in
symetry with zeros parts are multiplied by 2. The same
transition is used to multiply interferogram points by zero
and 2 (default 2).</li>
<li><strong>no_star</strong> &#8211; (Optional) If True, the cube is considered to
have been computed without the star dependant processes so
that the interferogram could not be corrected for sky
transmission variations. The interferogram cube used will
thus be the uncorrected one (default False).</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">No calibration of any sort is made (e.g. no
wavelength calibration) if the wanted cube is a spectral
cube. This way, if an output in wavenumber is desired no
interpolation has to be done. In the case of a phase cube
the wavelength calibration is done.</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="process_module.html#process.Interferogram.compute_spectrum" title="process.Interferogram.compute_spectrum"><code class="xref py py-meth docutils literal"><span class="pre">process.Interferogram.compute_spectrum()</span></code></a></p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-meth docutils literal"><span class="pre">orb.utils.transform_interferogram()</span></code></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="orbs.orbs.Orbs.config">
<code class="descname">config</code><em class="property"> = {}</em><a class="headerlink" href="#orbs.orbs.Orbs.config" title="Permalink to this definition">¶</a></dt>
<dd><p>Dictionary containing all the options of the config file.  All
those options can be changed for any particular reduction using
the option file.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Keywords used (The keywords of the configuration file
are the same)</p>
<blockquote class="last">
<div><ul class="simple">
<li>INIT_ANGLE: Rough angle between images of the cameras 1 and 2</li>
<li>INIT_DX: Rough disalignment along x axis between cameras 1
and 2 for a 1x1 binning</li>
<li>INIT_DY: Rough disalignment along y axis between cameras 1
and 2 for a 1x1 binning</li>
<li>FIELD_OF_VIEW: Size of the field of view of the camera 1 in
arc-minutes</li>
<li>FIELD_OF_VIEW_2: Size of the field of view of the camera 2 in
arc-minutes</li>
<li>PIX_SIZE_CAM1: Camera 1 pixel size in um</li>
<li>PIX_SIZE_CAM2: Camera 2 pixel size in um</li>
<li>BALANCED_CAM: Number of the camera on the balanced port</li>
<li>CALIB_NM_LASER: Wavelength of the calibration laser in nm</li>
<li>CALIB_ORDER: Folding order of the calibration laser cube</li>
<li>CALIB_STEP_SIZE: Step size of the calibration laser cube</li>
<li>PHASE_FIT_DEG: Degree of the polynomial used to fit the phase</li>
<li>DETECT_STAR_NB: Number of star to use for alignment and photometry</li>
<li>INIT_FWHM: Rough estimate of the stars FWHM in arcseconds</li>
<li>PSF_PROFILE: PSF used to fit stars (can be gaussian of moffat)</li>
<li>MOFFAT_BETA: Default beta parameter for the Moffat PSF</li>
<li>DETECT_STACK: Number of frames to combine for star detection</li>
<li>OPTIM_DARK_CAM1: If set to 1 : run the optimization routine
to remove camera 1 dark. Set to 0 to avoid optimization routine</li>
<li>OPTIM_DARK_CAM2: If set to 1 : run the optimization routine
to remove camera 2 dark. Set to 0 to avoid optimization routine</li>
<li>DARK_ACTIVATION_ENERGY: Calibrated activation energy of the
dark frames. Used to correct for varying dark level of the
camera 2 of SpIOMM</li>
<li>BIAS_CALIB_PARAMS: Bias calibration parameters a, b of the
function : bias_level = aT + b [T in degrees C]. Used to
correct for varying dark level of the camera 2 of SpIOMM</li>
<li>EXT_ILLUMINATION: If there is a chance for some light to
enter in one of the cameras and not the other this must be
set to 1. This way this external light can be tracked by the
merge process.</li>
<li>PREBINNING: Prebinning of the frames, useful for a quick
reduction.</li>
</ul>
</div></blockquote>
</div>
</dd></dl>

<dl class="method">
<dt id="orbs.orbs.Orbs.correct_interferogram">
<code class="descname">correct_interferogram</code><span class="sig-paren">(</span><em>camera_number</em><span class="sig-paren">)</span><a class="headerlink" href="#orbs.orbs.Orbs.correct_interferogram" title="Permalink to this definition">¶</a></dt>
<dd><p>Correct a single-camera interferogram cube for variations
of sky transission and stray light.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>camera_number</strong> &#8211; Camera number (can be 1 or 2).</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The sky transmission vector gives the absorption
caused by clouds or airmass variation.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The stray light vector gives the counts added
homogeneously to each frame caused by a cloud reflecting
light coming from the ground, the moon or the sun.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method is intented to be used to correct a
&#8216;single camera&#8217; interferogram cube. In the case of a merged
interferogram this is already done during the
<code class="xref py py-meth docutils literal"><span class="pre">orbs.Orbs.merge_interferograms()</span></code> with a far better
precision (because both cubes are used to compute it)</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="process_module.html#process.Interferogram.create_correction_vectors" title="process.Interferogram.create_correction_vectors"><code class="xref py py-meth docutils literal"><span class="pre">process.Interferogram.create_correction_vectors()</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="orbs.orbs.Orbs.create_bad_frames_vector">
<code class="descname">create_bad_frames_vector</code><span class="sig-paren">(</span><em>camera_number</em>, <em>bad_frames_list=None</em><span class="sig-paren">)</span><a class="headerlink" href="#orbs.orbs.Orbs.create_bad_frames_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a bad frames vector from the collected bad frames
vectors before computing the spectrum.</p>
<p>Bad frames vectors are created by some processes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>camera_number</strong> &#8211; Camera number.</li>
<li><strong>bad_frames_list</strong> &#8211; (Optional) List of bad frames indexes
that must be added to the bad frames vector (default None).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="orbs.orbs.Orbs.detect_stars">
<code class="descname">detect_stars</code><span class="sig-paren">(</span><em>cube</em>, <em>camera_number</em>, <em>saturation_threshold=None</em>, <em>return_fwhm_pix=False</em><span class="sig-paren">)</span><a class="headerlink" href="#orbs.orbs.Orbs.detect_stars" title="Permalink to this definition">¶</a></dt>
<dd><p>Detect stars in a cube and save the star list in a file.</p>
<p>This method is a simple wrapper around
<code class="xref py py-meth docutils literal"><span class="pre">orb.astrometry.Astrometry.detect_stars()</span></code></p>
<p>If a path to a list of star is given in the option file
(keyword STARLIST1 or STARLIST2), no automatic detection is
done and the the given list is returned. In this case the mean
FWHM returned is the FWHM given in the configuration file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cube</strong> &#8211; an orbs.Cube instance</li>
<li><strong>min_star_number</strong> &#8211; Minimum number of star to detect</li>
<li><strong>saturation_threshold</strong> &#8211; (Optional) Number of counts above
which the star can be considered as saturated. Low by
default because at the ZPD the intensity of a star can be
twice the intensity far from it. If None the default
configuration value SATURATION_THRESHOLD / 2 is used (default
None).</li>
<li><strong>return_fwhm_pix</strong> &#8211; (Optional) If True, the returned fwhm
will be given in pixels instead of arcseconds (default
False).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Path to a star list, mean FWHM of stars in arcseconds.</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-meth docutils literal"><span class="pre">orb.astrometry.Astrometry.detect_stars()</span></code></p>
</div>
</dd></dl>

<dl class="method">
<dt id="orbs.orbs.Orbs.export_calibrated_spectrum_cube">
<code class="descname">export_calibrated_spectrum_cube</code><span class="sig-paren">(</span><em>camera_number</em><span class="sig-paren">)</span><a class="headerlink" href="#orbs.orbs.Orbs.export_calibrated_spectrum_cube" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract a calibrated spectrum cube from the &#8216;frame-divided&#8217;
calibrated spectrum cube resulting of the reduction
process. Write this cube at the root of the reduction folder.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>camera_number</strong> &#8211; Camera number (must be 1, 2 or 0 for
merged data).</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="orbs.orbs.Orbs.export_calibration_laser_map">
<code class="descname">export_calibration_laser_map</code><span class="sig-paren">(</span><em>camera_number</em><span class="sig-paren">)</span><a class="headerlink" href="#orbs.orbs.Orbs.export_calibration_laser_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Export the computed calibration laser map at the root of the
reduction folder.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>camera_number</strong> &#8211; Camera number (must be 1, 2 or 0 for
merged data).</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="orbs.orbs.Orbs.export_flat_phase_map">
<code class="descname">export_flat_phase_map</code><span class="sig-paren">(</span><em>camera_number</em><span class="sig-paren">)</span><a class="headerlink" href="#orbs.orbs.Orbs.export_flat_phase_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Export the computed phase map at the root of the reduction folder.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>camera_number</strong> &#8211; Camera number (must be 1, 2 or 0 for
merged data).</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="orbs.orbs.Orbs.export_standard_spectrum">
<code class="descname">export_standard_spectrum</code><span class="sig-paren">(</span><em>camera_number</em>, <em>n_phase=None</em>, <em>aperture_photometry=True</em>, <em>apodization_function='2.0'</em>, <em>auto_phase=True</em><span class="sig-paren">)</span><a class="headerlink" href="#orbs.orbs.Orbs.export_standard_spectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract spectrum of the standard stars and write it at the
root of the reduction folder.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The position of the standard star is defined in the
option file with TARGETX and TARGETY keywords.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>camera_number</strong> &#8211; Camera number (must be 1, 2 or 0 for
merged data).</li>
<li><strong>n_phase</strong> &#8211; (Optional) Number of points around ZPD to use
for phase correction. If 0, no phase correction will be done
and the resulting spectrum will be the absolute value of the
complex spectrum. If None, the number of points is set to 50
percent of the interferogram length (default None).</li>
<li><strong>apodization_function</strong> &#8211; (Optional) Apodization function to use for
spectrum computation (default &#8216;2.0&#8217;).</li>
<li><strong>aperture_photometry</strong> &#8211; (Optional) If True, star flux is
computed by aperture photometry. If False, star flux is
computed from the results of the fit.</li>
<li><strong>auto_phase</strong> &#8211; (Optional) If True, phase is computed for
each star independantly. Useful for high SNR stars when no
reliable external phase can be provided (e.g. Standard
stars). Note that if auto_phase is set to True, phase will
be corrected even if n_phase is set to 0. (default True).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="orbs.orbs.Orbs.extract_stars_spectrum">
<code class="descname">extract_stars_spectrum</code><span class="sig-paren">(</span><em>camera_number</em>, <em>apodization_function</em>, <em>star_list_path=None</em>, <em>aperture_photometry=True</em>, <em>n_phase=None</em>, <em>auto_phase=False</em>, <em>filter_correct=True</em>, <em>aper_coeff=3.0</em>, <em>saturation=None</em><span class="sig-paren">)</span><a class="headerlink" href="#orbs.orbs.Orbs.extract_stars_spectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract the spectrum of the stars in a list of stars location
list by photometry.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>camera_number</strong> &#8211; Camera number (can be 1, 2 or 0 for
merged data).</li>
<li><strong>apodization_function</strong> &#8211; Apodization function to use during
spectrum computation.</li>
<li><strong>star_list_path</strong> &#8211; (Optional) Path to a list of stars
positions. If None, stars are autodetected.</li>
<li><strong>stars_fwhm_arc</strong> &#8211; (Optional) FWHM of the stars in
arcsec. Used only when an external list of stars is given
(using &#8216;star_list_path=&#8217; parameter).</li>
<li><strong>min_star_number</strong> &#8211; (Optional) Minimum number of star to
be detected by the automatic detection process (used if no
path to a list of stars is given). Default 15.</li>
<li><strong>aperture_photometry</strong> &#8211; (Optional) If True, star flux is
computed by aperture photometry. If False, star flux is
computed from the results of the fit.</li>
<li><strong>n_phase</strong> &#8211; (Optional) Number of points around ZPD to use
for phase correction. If 0, no phase correction will be done
and the resulting spectrum will be the absolute value of the
complex spectrum. If None, the number of points is set to 50
percent of the interferogram length (default None).</li>
<li><strong>auto_phase</strong> &#8211; (Optional) If True, phase is computed for
each star independantly. Useful for high SNR stars when no
reliable external phase can be provided (e.g. Standard
stars). Note that if auto_phase is set to True, phase will
be corrected even if n_phase is set to 0. (default False).</li>
<li><strong>filter_correct</strong> &#8211; (Optional) If True returned spectra
are corrected for filter. Points out of the filter band
are set to NaN (default True).</li>
<li><strong>aper_coeff</strong> &#8211; (Optional) Aperture coefficient. The
aperture radius is Rap = aper_coeff * FWHM. Better when
between 1.5 to reduce the variation of the collected photons
with varying FWHM and 3. to account for the flux in the
wings (default 3., better for star with a high SNR).</li>
<li><strong>saturation</strong> &#8211; (Optional) If not None, all pixels above
the saturation level are removed from the fit (default None).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="orbs.orbs.Orbs.get_noise_values">
<code class="descname">get_noise_values</code><span class="sig-paren">(</span><em>camera_number</em><span class="sig-paren">)</span><a class="headerlink" href="#orbs.orbs.Orbs.get_noise_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Return readout noise and dark current level from bias and
dark frames.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>camera_number</strong> &#8211; Camera number (can be either 1 or 2).</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">readout_noise, dark_current_level</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="process_module.html#process.RawData.get_noise_values" title="process.RawData.get_noise_values"><code class="xref py py-meth docutils literal"><span class="pre">process.RawData.get_noise_values()</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="orbs.orbs.Orbs.merge_interferograms">
<code class="descname">merge_interferograms</code><span class="sig-paren">(</span><em>add_frameB=True</em>, <em>smooth_vector=True</em><span class="sig-paren">)</span><a class="headerlink" href="#orbs.orbs.Orbs.merge_interferograms" title="Permalink to this definition">¶</a></dt>
<dd><p>Merge the images of the camera 1 with the transformed
images of the camera 2.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>add_frameB</strong> &#8211; (Optional) If False use the images of the
camera 2 only to correct for the variations of the sky
transmission. Default True.</li>
<li><strong>smooth_vector</strong> &#8211; (Optional) If True smooth the obtained
correction vector with a gaussian weighted moving average.
Reduce the possible high frequency noise of the transmission
function. (Default True).</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="process_module.html#process.InterferogramMerger.merge" title="process.InterferogramMerger.merge"><code class="xref py py-meth docutils literal"><span class="pre">process.InterferogramMerger.merge()</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="orbs.orbs.Orbs.merge_interferograms_alt">
<code class="descname">merge_interferograms_alt</code><span class="sig-paren">(</span><em>add_frameB=True</em><span class="sig-paren">)</span><a class="headerlink" href="#orbs.orbs.Orbs.merge_interferograms_alt" title="Permalink to this definition">¶</a></dt>
<dd><p>Alternative merge the images of the camera 1 with the
transformed images of the camera 2.</p>
<p>Star photometry is not used during the merging process. Might
be more noisy but useful if for some reason the correction
vectors cannot be well computed (e.g. not enough good stars,
intense emission lines everywhere in the field)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>add_frameB</strong> &#8211; (Optional) If False use the images of the
camera 2 only to correct for the variations of the sky
transmission. Default True.</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="process_module.html#process.InterferogramMerger.alternative_merge" title="process.InterferogramMerger.alternative_merge"><code class="xref py py-meth docutils literal"><span class="pre">process.InterferogramMerger.alternative_merge()</span></code></a></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="orbs.orbs.Orbs.option_file_path">
<code class="descname">option_file_path</code><em class="property"> = None</em><a class="headerlink" href="#orbs.orbs.Orbs.option_file_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to the option file</p>
</dd></dl>

<dl class="attribute">
<dt id="orbs.orbs.Orbs.optionfile">
<code class="descname">optionfile</code><em class="property"> = None</em><a class="headerlink" href="#orbs.orbs.Orbs.optionfile" title="Permalink to this definition">¶</a></dt>
<dd><p>OptionFile instance</p>
</dd></dl>

<dl class="attribute">
<dt id="orbs.orbs.Orbs.options">
<code class="descname">options</code><em class="property"> = {}</em><a class="headerlink" href="#orbs.orbs.Orbs.options" title="Permalink to this definition">¶</a></dt>
<dd><p>Dictionary containing all the options of the option file and
others created during initialization needed by processing classes.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Keywords used and related keyword in the option file:</p>
<ul class="last simple">
<li>object_name: OBJECT</li>
<li>filter_name: FILTER</li>
<li>bin_cam_1: BINCAM1</li>
<li>bin_cam_2: BINCAM2</li>
<li>step: SPESTEP</li>
<li>step_number: SPESTNB</li>
<li>order: SPEORDR</li>
<li>exp_time: SPEEXPT</li>
<li>dark_time: SPEDART</li>
<li>obs_date: OBSDATE</li>
<li>bad_frames: BAD_FRAMES</li>
<li>target_ra: TARGETR</li>
<li>target_dec: TARGETD</li>
<li>target_x: TARGETX</li>
<li>target_y: TARGETY</li>
<li>image_list_path_1: DIRCAM1</li>
<li>image_list_path_2: DIRCAM2</li>
<li>bias_path_1: DIRBIA1</li>
<li>bias_path_2: DIRBIA2</li>
<li>dark_path_1: DIRDRK1</li>
<li>dark_path_2: DIRDRK2</li>
<li>flat_path_1: DIRFLT1</li>
<li>flat_path_2: DIRFLT2</li>
<li>calib_path_1: DIRCAL1</li>
<li>calib_path_2: DIRCAL2</li>
<li>standard_path: STDPATH</li>
<li>phase_map_path: PHAPATH</li>
<li>standard_name: STDNAME</li>
<li>fringes: FRINGES</li>
<li>flat_spectrum_path: DIRFLTS</li>
<li>star_list_path_1: STARLIST1</li>
<li>star_list_path_2: STARLIST2</li>
<li>apodization_function: APOD</li>
<li>calibration_laser_map_path: CALIBMAP</li>
<li>try_catalogue: TRYCAT</li>
<li>wavenumber: WAVENUMBER</li>
<li>spectral_calibration: WAVE_CALIB</li>
<li>prebinning: PREBINNING</li>
<li>no_sky: NOSKY</li>
</ul>
</div>
</dd></dl>

<dl class="attribute">
<dt id="orbs.orbs.Orbs.overwrite">
<code class="descname">overwrite</code><em class="property"> = None</em><a class="headerlink" href="#orbs.orbs.Orbs.overwrite" title="Permalink to this definition">¶</a></dt>
<dd><p>Overwriting option. If True, existing FITS files will be
overwritten</p>
</dd></dl>

<dl class="attribute">
<dt id="orbs.orbs.Orbs.project_name">
<code class="descname">project_name</code><em class="property"> = None</em><a class="headerlink" href="#orbs.orbs.Orbs.project_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the project, created during class initialization</p>
</dd></dl>

<dl class="method">
<dt id="orbs.orbs.Orbs.set_init_angle">
<code class="descname">set_init_angle</code><span class="sig-paren">(</span><em>init_angle</em><span class="sig-paren">)</span><a class="headerlink" href="#orbs.orbs.Orbs.set_init_angle" title="Permalink to this definition">¶</a></dt>
<dd><p>Change config variable <code class="xref py py-const docutils literal"><span class="pre">orbs.orbs.Orbs.INIT_ANGLE</span></code>.</p>
<p>You can also change it by editing the file
<code class="file docutils literal"><span class="pre">orbs/data/config.orb</span></code>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This value is modified only for this instance of
Orbs class. The initial value stored in the file
&#8216;config.orb&#8217; will be restored at the next initialisation of
the class.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>init_angle</strong> &#8211; the new value 
of <code class="xref py py-const docutils literal"><span class="pre">orbs.orbs.Orbs.INIT_ANGLE</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="orbs.orbs.Orbs.start_reduction">
<code class="descname">start_reduction</code><span class="sig-paren">(</span><em>apodization_function='2.0'</em>, <em>start_step=0</em>, <em>n_phase=None</em>, <em>alt_merge=False</em>, <em>save_as_quads=False</em>, <em>add_frameB=True</em><span class="sig-paren">)</span><a class="headerlink" href="#orbs.orbs.Orbs.start_reduction" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the whole reduction process for two cameras using
default options</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>apodization_function</strong> &#8211; (Optional) Name of the apodization
function be used during the spectrum computation (default None).</li>
<li><strong>start_step</strong> &#8211; (Optional) Starting step number. Use it to
cover from an error at a certain step without having to
run the whole process one more time (default 0).</li>
<li><strong>n_phase</strong> &#8211; (Optional) Number of points around ZPD to use
for phase correction during spectrum computation. If 0, no
phase correction will be done and the resulting spectrum
will be the absolute value of the complex spectrum. If
None, the number of points is set to 50 percent of the
interferogram length (default None).</li>
<li><strong>alt_merge</strong> &#8211; (Optional) If True, alternative merging
process will be choosen. Star photometry is not used during
the merging process. Might be more noisy but useful if for
some reason the correction vectors cannot be well computed
(e.g. not enough good stars, intense emission lines
everywhere in the field)</li>
<li><strong>save_as_quads</strong> &#8211; (Optional) If True, final calibrated
spectrum is saved as quadrants instead of being saved as a
full cube. Quadrants can be read independantly. This option
is useful for big data cubes (default False).</li>
<li><strong>add_frameB</strong> &#8211; (Optional) If False use the images of the
camera 2 only to correct for the variations of the sky
transmission. Default True.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="orbs.orbs.Orbs.target">
<code class="descname">target</code><em class="property"> = None</em><a class="headerlink" href="#orbs.orbs.Orbs.target" title="Permalink to this definition">¶</a></dt>
<dd><p>Choosen target to reduce</p>
</dd></dl>

<dl class="attribute">
<dt id="orbs.orbs.Orbs.targets">
<code class="descname">targets</code><em class="property"> = ['object', 'flat', 'standard', 'laser', 'nostar']</em><a class="headerlink" href="#orbs.orbs.Orbs.targets" title="Permalink to this definition">¶</a></dt>
<dd><p>Possible target types</p>
</dd></dl>

<dl class="method">
<dt id="orbs.orbs.Orbs.transform_cube_B">
<code class="descname">transform_cube_B</code><span class="sig-paren">(</span><em>interp_order=1</em>, <em>no_star=False</em><span class="sig-paren">)</span><a class="headerlink" href="#orbs.orbs.Orbs.transform_cube_B" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the alignment parameters of the camera 2
relatively to the first one. Transform the images of the
camera 2 using linear interpolation by default.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>interp_order</strong> &#8211; (Optional) Interpolation order (Default 1.).</li>
<li><strong>no_star</strong> &#8211; (Optional) If the cube does not contain any star, the
transformation is made using the default alignment
parameters (recorded in the configuration file :
&#8216;data/config.orb&#8217;) (default False).</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="process_module.html#process.InterferogramMerger.find_alignment" title="process.InterferogramMerger.find_alignment"><code class="xref py py-meth docutils literal"><span class="pre">process.InterferogramMerger.find_alignment()</span></code></a></p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="process_module.html#process.InterferogramMerger.transform" title="process.InterferogramMerger.transform"><code class="xref py py-meth docutils literal"><span class="pre">process.InterferogramMerger.transform()</span></code></a></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="orbs.orbs.Orbs.tuning_parameters">
<code class="descname">tuning_parameters</code><em class="property"> = {}</em><a class="headerlink" href="#orbs.orbs.Orbs.tuning_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Dictionary containg the tuning parameters of some methods
called by ORBS. The dictionary must contains the full parameter
name (class.method.parameter_name) and its value. For example :
{&#8216;InterferogramMerger.find_alignment.BOX_SIZE&#8217;: 7}. Note that
only some parameters can be tuned. This possibility is
implemented into the method itself with the method
<code class="xref py py-meth docutils literal"><span class="pre">orb.core.Tools._get_tuning_parameter()</span></code>.</p>
<p>To set a tuning parameter in the options file use the keyword
TUNE followed by the full parameter name and its new value:</p>
<div class="highlight-python"><div class="highlight"><pre>TUNE InterferogramMerger.find_alignment.WARNING_RATIO 0.8
TUNE InterferogramMerger.find_alignment.BOX_SIZE_COEFF 7
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="roadmap-class">
<h2><a class="toc-backref" href="#id4">RoadMap class</a><a class="headerlink" href="#roadmap-class" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="orbs.orbs.RoadMap">
<em class="property">class </em><code class="descclassname">orbs.orbs.</code><code class="descname">RoadMap</code><span class="sig-paren">(</span><em>instrument</em>, <em>target</em>, <em>cams</em>, <em>indexer</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#orbs.orbs.RoadMap" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">orb.core.Tools</span></code></p>
<p>Manage a reduction road map given a target and the camera to
use (camera 1, 2 or both cameras).</p>
<p>All steps are defined in a particular xml files in the data folder
of ORBS (<code class="file docutils literal"><span class="pre">orbs/data/roadmap.steps.xml</span></code>).</p>
<p>Each roadmap is defined by an xml file which can also be found in
orbs/data.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The name of a roadmap file is defined as follows:</p>
<div class="highlight-python"><div class="highlight"><pre>roadmap.[instrument].[target].[camera].xml
</pre></div>
</div>
<ul class="last simple">
<li><em>instrument</em> can be <em>spiomm</em> or <em>sitelle</em></li>
<li><em>target</em> can be one of the special targets listed above or object
for the default target</li>
<li><em>camera</em> can be <em>full</em> for a process using both cameras; <em>single1</em>
or <em>single2</em> for a process using only the camera 1 or 2.</li>
</ul>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>RoadMap file syntax:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="cp">&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<span class="nt">&lt;steps&gt;</span>
  <span class="nt">&lt;step</span> <span class="na">name=</span><span class="s">&#39;compute_alignment_vector&#39;</span> <span class="na">cam=</span><span class="s">&#39;1&#39;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;arg</span> <span class="na">value=</span><span class="s">&#39;1&#39;</span> <span class="na">type=</span><span class="s">&#39;int&#39;</span><span class="nt">&gt;&lt;/arg&gt;</span>
  <span class="nt">&lt;/step&gt;</span>

  <span class="nt">&lt;step</span> <span class="na">name=</span><span class="s">&#39;compute_alignment_vector&#39;</span> <span class="na">cam=</span><span class="s">&#39;2&#39;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;arg</span> <span class="na">value=</span><span class="s">&#39;2&#39;</span> <span class="na">type=</span><span class="s">&#39;int&#39;</span><span class="nt">&gt;&lt;/arg&gt;</span>
  <span class="nt">&lt;/step&gt;</span>

  <span class="nt">&lt;step</span> <span class="na">name=</span><span class="s">&#39;compute_spectrum&#39;</span> <span class="na">cam=</span><span class="s">&#39;0&#39;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;arg</span> <span class="na">value=</span><span class="s">&#39;0&#39;</span> <span class="na">type=</span><span class="s">&#39;int&#39;</span><span class="nt">&gt;&lt;/arg&gt;</span>
    <span class="nt">&lt;kwarg</span> <span class="na">name=</span><span class="s">&#39;n_phase&#39;</span><span class="nt">&gt;&lt;/kwarg&gt;</span>
    <span class="nt">&lt;kwarg</span> <span class="na">name=</span><span class="s">&#39;apodization_function&#39;</span><span class="nt">&gt;&lt;/kwarg&gt;</span>
  <span class="nt">&lt;/step&gt;</span>
<span class="nt">&lt;/steps&gt;</span>
</pre></div>
</div>
<ul class="last simple">
<li>&lt;step&gt; Each step is defined by its <strong>name</strong> (which can be
found in <code class="file docutils literal"><span class="pre">orbs/data/roadmap.steps.xml</span></code>) and the camera
used (1, 2 or 0 for merged data).</li>
<li>&lt;arg&gt; Every needed arguments can be passed by giving the
value and its type (see
<a class="reference internal" href="#orbs.orbs.RoadMap.types_dict" title="orbs.orbs.RoadMap.types_dict"><code class="xref py py-data docutils literal"><span class="pre">orbs.orbs.RoadMap.types_dict</span></code></a>).</li>
<li>&lt;kwarg&gt; optional arguments. They must be added to the step
definition if their value has to be passed from the calling
method (<a class="reference internal" href="#orbs.orbs.Orbs.start_reduction" title="orbs.orbs.Orbs.start_reduction"><code class="xref py py-meth docutils literal"><span class="pre">orbs.orbs.Orbs.start_reduction()</span></code></a>). Only the
optional arguments of
<a class="reference internal" href="#orbs.orbs.Orbs.start_reduction" title="orbs.orbs.Orbs.start_reduction"><code class="xref py py-meth docutils literal"><span class="pre">orbs.orbs.Orbs.start_reduction()</span></code></a> can thus be passed
as optional arguments of the step function.</li>
</ul>
</div>
<dl class="attribute">
<dt id="orbs.orbs.RoadMap.ROADMAP_STEPS_FILE_NAME">
<code class="descname">ROADMAP_STEPS_FILE_NAME</code><em class="property"> = 'roadmap.steps.xml'</em><a class="headerlink" href="#orbs.orbs.RoadMap.ROADMAP_STEPS_FILE_NAME" title="Permalink to this definition">¶</a></dt>
<dd><p>Roadmap steps file name</p>
</dd></dl>

<dl class="method">
<dt id="orbs.orbs.RoadMap.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>instrument</em>, <em>target</em>, <em>cams</em>, <em>indexer</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#orbs.orbs.RoadMap.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Init class.</p>
<p>Load steps definitions and roadmap.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>instrument</strong> &#8211; Instrument. Can be &#8216;sitelle&#8217; or &#8216;spiomm&#8217;</li>
<li><strong>target</strong> &#8211; Target of the data to reduce</li>
<li><strong>cams</strong> &#8211; Camera to use (cam be &#8216;single1&#8217;, &#8216;single2&#8217; or &#8216;full&#8217;)</li>
<li><strong>indexer</strong> &#8211; An orb.Indexer instance.</li>
<li><strong>kwargs</strong> &#8211; Kwargs are <code class="xref py py-meth docutils literal"><span class="pre">core.Tools()</span></code> properties.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="orbs.orbs.RoadMap._str2bool">
<code class="descname">_str2bool</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="headerlink" href="#orbs.orbs.RoadMap._str2bool" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a string to a boolean value.</p>
<p>String must be &#8216;True&#8217;,&#8216;1&#8217; or &#8216;False&#8217;,&#8216;0&#8217;.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>s</strong> &#8211; string to convert.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="orbs.orbs.RoadMap.attach">
<code class="descname">attach</code><span class="sig-paren">(</span><em>step_name</em>, <em>func</em><span class="sig-paren">)</span><a class="headerlink" href="#orbs.orbs.RoadMap.attach" title="Permalink to this definition">¶</a></dt>
<dd><p>Attach a reduction function to a step.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>step_name</strong> &#8211; Name of the step</li>
<li><strong>func</strong> &#8211; function to attach</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="orbs.orbs.RoadMap.check_road">
<code class="descname">check_road</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#orbs.orbs.RoadMap.check_road" title="Permalink to this definition">¶</a></dt>
<dd><p>Check the status of each step of the road.</p>
</dd></dl>

<dl class="method">
<dt id="orbs.orbs.RoadMap.get_road_len">
<code class="descname">get_road_len</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#orbs.orbs.RoadMap.get_road_len" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of steps of the road</p>
</dd></dl>

<dl class="method">
<dt id="orbs.orbs.RoadMap.get_step_func">
<code class="descname">get_step_func</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="headerlink" href="#orbs.orbs.RoadMap.get_step_func" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the function and the arguments for a particular step.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>index</strong> &#8211; Index of of the step.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">(func, args, kwargs)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="orbs.orbs.RoadMap.get_steps_str">
<code class="descname">get_steps_str</code><span class="sig-paren">(</span><em>indent=0</em><span class="sig-paren">)</span><a class="headerlink" href="#orbs.orbs.RoadMap.get_steps_str" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a string describing the different steps and their index.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>indent</strong> &#8211; (Optional) Indentation of each line (default 0)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="orbs.orbs.RoadMap.print_status">
<code class="descname">print_status</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#orbs.orbs.RoadMap.print_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Print roadmap status</p>
</dd></dl>

<dl class="attribute">
<dt id="orbs.orbs.RoadMap.types_dict">
<code class="descname">types_dict</code><em class="property"> = {'int': &lt;type 'int'&gt;, 'float': &lt;type 'float'&gt;, 'bool': &lt;function _str2bool at 0x2b0546451a28&gt;, 'str': &lt;type 'str'&gt;}</em><a class="headerlink" href="#orbs.orbs.RoadMap.types_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Dictionary of the defined arguments types</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="step-class">
<h2><a class="toc-backref" href="#id5">Step class</a><a class="headerlink" href="#step-class" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="orbs.orbs.Step">
<em class="property">class </em><code class="descclassname">orbs.orbs.</code><code class="descname">Step</code><span class="sig-paren">(</span><em>infiles</em>, <em>func</em>, <em>outfiles</em><span class="sig-paren">)</span><a class="headerlink" href="#orbs.orbs.Step" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Reduction step definition.</p>
<p>This class is used by <a class="reference internal" href="#orbs.orbs.RoadMap" title="orbs.orbs.RoadMap"><code class="xref py py-class docutils literal"><span class="pre">orbs.orbs.RoadMap</span></code></a>.</p>
<dl class="method">
<dt id="orbs.orbs.Step.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>infiles</em>, <em>func</em>, <em>outfiles</em><span class="sig-paren">)</span><a class="headerlink" href="#orbs.orbs.Step.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Init class</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>infiles</strong> &#8211; a list of strings defining the input files.</li>
<li><strong>func</strong> &#8211; a function object attached to the reduction step.</li>
<li><strong>outfiles</strong> &#8211; a list of strings defining the output files.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="orbs.orbs.Step.__weakref__">
<code class="descname">__weakref__</code><a class="headerlink" href="#orbs.orbs.Step.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

<dl class="method">
<dt id="orbs.orbs.Step.get_outfiles">
<code class="descname">get_outfiles</code><span class="sig-paren">(</span><em>cam</em><span class="sig-paren">)</span><a class="headerlink" href="#orbs.orbs.Step.get_outfiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the complete output name of the file as it is
recorded in the indexer (see <code class="xref py py-class docutils literal"><span class="pre">orb.core.Indexer</span></code>).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cam</strong> &#8211; camera used (can be 0,1 or 2)</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="performance-class">
<h2><a class="toc-backref" href="#id6">Performance class</a><a class="headerlink" href="#performance-class" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="orbs.orbs.Performance">
<em class="property">class </em><code class="descclassname">orbs.orbs.</code><code class="descname">Performance</code><span class="sig-paren">(</span><em>cube</em>, <em>process_name</em>, <em>camera_number</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#orbs.orbs.Performance" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">orb.core.Tools</span></code></p>
<p>Give some details on the efficiency of a reduction process.</p>
<dl class="docutils">
<dt>Help user to optimize ORBS&#8217;s performances (e.g. adjusting the</dt>
<dd>number of quadrants in ORBS config file)</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>cube</strong> &#8211; Reference to a cube in order to get details on the
reduced data</li>
<li><strong>process_name</strong> &#8211; Name of the running process checked</li>
<li><strong>camera_number</strong> &#8211; Number of the camera which cube is processed
(can be 1, 2 or 0 for merged data)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="orbs.orbs.Performance.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>cube</em>, <em>process_name</em>, <em>camera_number</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#orbs.orbs.Performance.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize class</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>cube</strong> &#8211; Reference to a cube in order to get details on the
reduced data</li>
<li><strong>process_name</strong> &#8211; Name of the running process checked</li>
<li><strong>camera_number</strong> &#8211; Number of the camera which cube is
processed (can be 1, 2 or 0 for merged data)</li>
<li><strong>kwargs</strong> &#8211; Kwargs are <code class="xref py py-meth docutils literal"><span class="pre">core.Tools()</span></code> properties.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="orbs.orbs.Performance.get_max_mem">
<code class="descname">get_max_mem</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#orbs.orbs.Performance.get_max_mem" title="Permalink to this definition">¶</a></dt>
<dd><p>Return max memory used by the process in bytes</p>
</dd></dl>

<dl class="method">
<dt id="orbs.orbs.Performance.print_stats">
<code class="descname">print_stats</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#orbs.orbs.Performance.print_stats" title="Permalink to this definition">¶</a></dt>
<dd><p>Print performance statistics about the whole running process
and it&#8217;s children processes.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The Max memory used can be largely overestimated
for it gives the maximum memory used during the passed
reduction process and not for the running function. To have
a good idea of the maximum memory used by a single function
run this function for a single reduction step.</p>
</div>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="process_module.html" class="btn btn-neutral float-right" title="Process module" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="reduction_errors.html" class="btn btn-neutral" title="ORBS Common reduction errors" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Thomas Martin (thomas.martin.1@ulaval.ca).
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'3.9.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>